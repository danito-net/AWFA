# users

CREATE TABLE IF NOT EXISTS users (
       email TEXT,
       phone TEXT,
       fullname TEXT,
       nickname TEXT,
       password TEXT,
       device_id TEXT,
       device_status INT,
       attache_locale TEXT,
       attache_gender TEXT,
       attache_status INT,
       created TIMESTAMP,
       last_edited TIMESTAMP,
       notes TEXT,
       status INT,
       user_id UUID,
PRIMARY KEY ((email), user_id))
WITH CLUSTERING ORDER BY (user_id DESC);

CREATE TABLE IF NOT EXISTS devices (
       serial TEXT,
       description TEXT,
       created TIMESTAMP,
       activated TIMESTAMP,
       last_edited TIMESTAMP,
       notes TEXT,
       status INT,
       device_id UUID,
PRIMARY KEY ((serial), device_id))
WITH CLUSTERING ORDER BY (device_id DESC);

CREATE TABLE IF NOT EXISTS connections (
       connection_id TIMEUUID,
       user_id TEXT,
       device_id TEXT,
       started TIMESTAMP,
       finished TIMESTAMP,
       latitude TEXT,
       longitude TEXT,
       altitude TEXT,
       location TEXT,
       notes TEXT,
       status INT,
PRIMARY KEY ((user_id), connection_id))
WITH CLUSTERING ORDER BY (connection_id DESC);

CREATE TABLE IF NOT EXISTS sensors (
       device_id TEXT,
       latitude TEXT,
       longitude TEXT,
       altitude TEXT,
       temperature TEXT,
       humidity TEXT,
       pressure TEXT,
       light_intensity TEXT,
       co2 TEXT,
       created TIMESTAMP,
       notes TEXT,
       status INT,
PRIMARY KEY ((device_id)));



